<!DOCTYPE html>
<html lang="en"><head>
<script src="Lecture_B_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lecture_B_files/libs/quarto-html/tabby.min.js"></script>
<script src="Lecture_B_files/libs/quarto-html/popper.min.js"></script>
<script src="Lecture_B_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Lecture_B_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lecture_B_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Lecture_B_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.189">

  <meta name="author" content="Gerko Vink">
  <meta name="dcterms.date" content="2022-12-09">
  <title>How wrong may a useful model be?</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Lecture_B_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Lecture_B_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Lecture_B_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="Lecture_B_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Lecture_B_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Lecture_B_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Lecture_B_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">How wrong may a useful model be?</h1>
  <p class="author">Gerko Vink</p>
  <p class="institute">Methodology &amp; Statistics @ Utrecht University</p>
  <p class="date">December 9, 2022</p>
</section>
<section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Outline</h2>
<ul>
<li><a href="#/the-linear-model" id="/toc-the-linear-model">The linear model</a></li>
<li><a href="#/assumptions" id="/toc-assumptions">Assumptions</a></li>
<li><a href="#/model-fit" id="/toc-model-fit">Model fit</a></li>
<li><a href="#/model-comparison" id="/toc-model-comparison">Model comparison</a></li>
<li><a href="#/prediction" id="/toc-prediction">Prediction</a></li>
<li><a href="#/assessing-predictive-accuracy" id="/toc-assessing-predictive-accuracy">Assessing predictive accuracy</a></li>
<li><a href="#/confidence-intervals" id="/toc-confidence-intervals">Confidence intervals?</a></li>
</ul>
</nav>
</section>

<section id="this-lecture" class="slide level2">
<h2>This lecture</h2>
<ul>
<li><p>the linear model</p></li>
<li><p>assumptions</p></li>
<li><p>model fit</p></li>
<li><p>model complexity</p></li>
<li><p>cross validation</p></li>
</ul>
</section>
<section id="we-use-the-following-packages" class="slide level2">
<h2>We use the following packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(mice)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(DAAG)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section>
<section id="the-linear-model" class="title-slide slide level1 center">
<h1>The linear model</h1>

</section>
<section id="notation" class="slide level2">
<h2>Notation</h2>
<p>The mathematical formulation of the relationship between variables can be written as</p>
<p><span class="math display">\[
\mbox{observed}=\mbox{predicted}+\mbox{error}
\]</span></p>
<p>or (for the <em>greek people</em>) in notation as <span class="math display">\[y=\mu+\varepsilon\]</span></p>
<p>where</p>
<ul>
<li><span class="math inline">\(\mu\)</span> (mean) is the part of the outcome that is explained by model</li>
<li><span class="math inline">\(\varepsilon\)</span> (residual) is the part of outcome that is not explained by model</li>
</ul>
</section>
<section id="univariate-expectation" class="slide level2">
<h2>Univariate expectation</h2>

<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="conditional-expectation" class="slide level2">
<h2>Conditional expectation</h2>

<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-3-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="assumptions" class="title-slide slide level1 center">
<h1>Assumptions</h1>

</section>
<section id="the-key-assumptions" class="slide level2">
<h2>The key assumptions</h2>
<p>There are four key assumptions about the use of linear regression models.</p>
<p>In short, we assume</p>
<ul>
<li><p>The outcome to have a <strong>linear relation</strong> with the predictors and the predictor relations to be <strong>additive</strong>.</p>
<ul>
<li>the expected value for the outcome is a straight-line function of each predictor, given that the others are fixed.</li>
<li>the slope of each line does not depend on the values of the other predictors</li>
<li>the effects of the predictors on the expected value are additive</li>
</ul>
<p><span class="math display">\[ y = \alpha + \beta_1X_1 + \beta_2X_2 + \beta_3X_3 + \epsilon\]</span></p></li>
<li><p>The residuals are statistically <strong>independent</strong></p></li>
<li><p>The residual <strong>variance is constant</strong></p>
<ul>
<li>accross the expected values</li>
<li>across any of the predictors</li>
</ul></li>
<li><p>The residuals are <strong>normally distributed</strong> with mean <span class="math inline">\(\mu_\epsilon = 0\)</span></p></li>
</ul>
</section>
<section id="a-simple-model" class="slide level2">
<h2>A simple model</h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-4_8a2fc3d53e8787f464ae0647bb9503a4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>fit <span class="ot">&lt;-</span> anscombe <span class="sc">%$%</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">lm</span>(y1 <span class="sc">~</span> x1)</span>
<span id="cb2-3"><a href="#cb2-3"></a>fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y1 ~ x1)

Coefficients:
(Intercept)           x1  
     3.0001       0.5001  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>fit2 <span class="ot">&lt;-</span> anscombe <span class="sc">%$%</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">lm</span>(y2 <span class="sc">~</span> x2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualizing-the-assumptions" class="slide level2">
<h2>Visualizing the assumptions</h2>

<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="visualizing-the-assumptions-1" class="slide level2">
<h2>Visualizing the assumptions</h2>

<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section></section>
<section>
<section id="model-fit" class="title-slide slide level1 center">
<h1>Model fit</h1>

</section>
<section id="a-simple-model-1" class="slide level2">
<h2>A simple model</h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-7_a74f8ed5c460db94dd99156d6727cfad">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>boys.fit <span class="ot">&lt;-</span> </span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span> <span class="co"># Extremely wasteful</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg)</span>
<span id="cb5-4"><a href="#cb5-4"></a>boys.fit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = age ~ reg)

Coefficients:
(Intercept)      regeast      regwest     regsouth      regcity  
    14.7109      -0.8168      -0.7044      -0.6913      -0.6663  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>boys <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span> <span class="fu">aggregate</span>(age, <span class="fu">list</span>(reg), mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group.1        x
1   north 14.71094
2    east 13.89410
3    west 14.00657
4   south 14.01965
5    city 14.04460</code></pre>
</div>
</div>
</section>
<section id="plotting-the-model" class="slide level2">
<h2>Plotting the model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>means <span class="ot">&lt;-</span> boys <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>(boys) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(reg) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">age =</span> <span class="fu">mean</span>(age))</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">ggplot</span>(<span class="fu">na.omit</span>(boys), <span class="fu">aes</span>(<span class="at">x =</span> reg, <span class="at">y =</span> age)) <span class="sc">+</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span> </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> means, <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section>
<section id="model-parameters" class="slide level2">
<h2>Model parameters</h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-9_dcf2e66d2b1dc834c11e6cc8f16f3e54">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>boys.fit <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = age ~ reg)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.8519 -2.5301  0.0254  2.2274  6.2614 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  14.7109     0.5660  25.993   &lt;2e-16 ***
regeast      -0.8168     0.7150  -1.142    0.255    
regwest      -0.7044     0.6970  -1.011    0.313    
regsouth     -0.6913     0.6970  -0.992    0.322    
regcity      -0.6663     0.9038  -0.737    0.462    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.151 on 218 degrees of freedom
Multiple R-squared:  0.006745,  Adjusted R-squared:  -0.01148 
F-statistic: 0.3701 on 4 and 218 DF,  p-value: 0.8298</code></pre>
</div>
</div>
</section>
<section id="scientific-notation" class="slide level2">
<h2>Scientific notation</h2>
<p>If you have trouble reading scientific notation, <code>2e-16</code> means the following</p>
<p><span class="math display">\[2\text{e-16} = 2 \times 10^{-16} = 2 \times (\frac{1}{10})^{-16}\]</span></p>
<p>This indicates that the comma should be moved 16 places to the left:</p>
<p><span class="math display">\[2\text{e-16} = 0.0000000000000002\]</span></p>
</section>
<section id="is-it-a-good-model" class="slide level2">
<h2>Is it a good model?</h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-10_cc5aa9c17c0b4e537e2ff867ce374b4d">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>boys.fit <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">anova</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: age
           Df Sum Sq Mean Sq F value Pr(&gt;F)
reg         4   14.7  3.6747  0.3701 0.8298
Residuals 218 2164.6  9.9293               </code></pre>
</div>
</div>
<p>It is not a very informative model. The <code>anova</code> is not significant, indicating that the contribution of the residuals is larger than the contribution of the model.</p>
<p>The outcome <code>age</code> does not change significantly when <code>reg</code> is varied.</p>
</section>
<section id="aic" class="slide level2">
<h2>AIC</h2>
<p>Akaike’s <em>An Information Criterion</em></p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-11_279fecea980f8150a582dfa76b5624a2">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>boys.fit <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">AIC</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1151.684</code></pre>
</div>
</div>
<h3 id="what-is-aic">What is AIC</h3>
<p>AIC comes from information theory and can be used for model selection. The AIC quantifies the information that is lost by the statistical model, through the assumption that the data come from the same model. In other words: AIC measures the fit of the model to the data.</p>
<ul>
<li>The better the fit, the less the loss in information</li>
<li>AIC works on the log scale:
<ul>
<li><span class="math inline">\(\text{log}(0) = -\infty\)</span>, <span class="math inline">\(\text{log}(1) = 0\)</span>, etc.</li>
</ul></li>
<li>the closer the AIC is to <span class="math inline">\(-\infty\)</span>, the better</li>
</ul>
</section></section>
<section>
<section id="model-comparison" class="title-slide slide level1 center">
<h1>Model comparison</h1>

</section>
<section id="a-new-model" class="slide level2">
<h2>A new model</h2>
<p>Let’s add predictor <code>hgt</code> to the model:</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-12_281e9dc9542d87289f0b5042fd1c1c55">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>boys.fit2 <span class="ot">&lt;-</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt)</span>
<span id="cb16-4"><a href="#cb16-4"></a></span>
<span id="cb16-5"><a href="#cb16-5"></a>boys.fit <span class="sc">%&gt;%</span> <span class="fu">AIC</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1151.684</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>boys.fit2 <span class="sc">%&gt;%</span> <span class="fu">AIC</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 836.3545</code></pre>
</div>
</div>
</section>
<section id="another-model" class="slide level2">
<h2>Another model</h2>
<p>Let’s add <code>wgt</code> to the model</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-13_a73f12d5bc7eb53e49deaa98436d0cb2">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>boys.fit3 <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt <span class="sc">+</span> wgt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="and-another-model" class="slide level2">
<h2>And another model</h2>
<p>Let’s add <code>wgt</code> and the interaction between <code>wgt</code> and <code>hgt</code> to the model</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-14_06af571a5ca7f8e12fad6432fd7eec98">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>boys.fit4 <span class="ot">&lt;-</span> </span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt <span class="sc">*</span> wgt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>is equivalent to</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>boys.fit4 <span class="ot">&lt;-</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt <span class="sc">+</span> wgt <span class="sc">+</span> hgt<span class="sc">:</span>wgt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-comparison-1" class="slide level2">
<h2>Model comparison</h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-16_f92a546717cebe37d83c48cae1584511">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">AIC</span>(boys.fit, boys.fit2, boys.fit3, boys.fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          df       AIC
boys.fit   6 1151.6839
boys.fit2  7  836.3545
boys.fit3  8  822.4164
boys.fit4  9  823.0386</code></pre>
</div>
</div>
</section>
<section id="and-with-anova" class="slide level2">
<h2>And with <code>anova()</code></h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-17_01ef38eb1c833026d11bd5781e67ffa5">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">anova</span>(boys.fit, boys.fit2, boys.fit3, boys.fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: age ~ reg
Model 2: age ~ reg + hgt
Model 3: age ~ reg + hgt + wgt
Model 4: age ~ reg + hgt * wgt
  Res.Df     RSS Df Sum of Sq        F    Pr(&gt;F)    
1    218 2164.59                                    
2    217  521.64  1   1642.94 731.8311 &lt; 2.2e-16 ***
3    216  485.66  1     35.98  16.0276 8.595e-05 ***
4    215  482.67  1      2.99   1.3324    0.2497    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="inspect-boys.fit3" class="slide level2">
<h2>Inspect <code>boys.fit3</code></h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-18_e9e3d40aa6efd2e67cdb4d590c499f18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>boys.fit3 <span class="sc">%&gt;%</span> <span class="fu">anova</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: age
           Df  Sum Sq Mean Sq  F value    Pr(&gt;F)    
reg         4   14.70    3.67   1.6343    0.1667    
hgt         1 1642.94 1642.94 730.7065 &lt; 2.2e-16 ***
wgt         1   35.98   35.98  16.0029 8.688e-05 ***
Residuals 216  485.66    2.25                       
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="inspect-boys.fit4" class="slide level2">
<h2>Inspect <code>boys.fit4</code></h2>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-19_8593909a5a766e374c64b19979a457ac">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>boys.fit4 <span class="sc">%&gt;%</span> <span class="fu">anova</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: age
           Df  Sum Sq Mean Sq  F value    Pr(&gt;F)    
reg         4   14.70    3.67   1.6368    0.1661    
hgt         1 1642.94 1642.94 731.8311 &lt; 2.2e-16 ***
wgt         1   35.98   35.98  16.0276 8.595e-05 ***
hgt:wgt     1    2.99    2.99   1.3324    0.2497    
Residuals 215  482.67    2.24                       
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>It seems that <code>reg</code> and the interaction <code>hgt:wgt</code> are redundant</p>
</section>
<section id="remove-reg" class="slide level2">
<h2>Remove <code>reg</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>boys.fit5 <span class="ot">&lt;-</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> hgt <span class="sc">+</span> wgt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s revisit the comparison</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">anova</span>(boys.fit, boys.fit2, boys.fit3, boys.fit5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: age ~ reg
Model 2: age ~ reg + hgt
Model 3: age ~ reg + hgt + wgt
Model 4: age ~ hgt + wgt
  Res.Df     RSS Df Sum of Sq        F    Pr(&gt;F)    
1    218 2164.59                                    
2    217  521.64  1   1642.94 730.7065 &lt; 2.2e-16 ***
3    216  485.66  1     35.98  16.0029 8.688e-05 ***
4    220  492.43 -4     -6.77   0.7529    0.5571    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>The <code>boys.fit5</code> model is better than the previous model - it has fewer parameters</p>
</section>
<section id="influence-of-cases" class="slide level2">
<h2>Influence of cases</h2>
<p>DfBeta calculates the change in coefficients depicted as deviation in SE’s.</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-22_8cbed811b95f90910b260f286f07027b">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>boys.fit5 <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>  <span class="fu">dfbeta</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept)           hgt           wgt
1  0.08023815 -0.0006010829  3.886307e-04
2 -0.16849516  0.0011153227 -4.813872e-04
3 -0.08258333  0.0005122980 -1.222825e-04
4 -0.04399686  0.0002530928 -8.689133e-06
5 -0.28701562  0.0021630263 -1.581283e-03
6 -0.06116123  0.0002818449  1.652042e-04
7 -0.04791078  0.0002228673  1.274280e-04</code></pre>
</div>
</div>
</section></section>
<section>
<section id="prediction" class="title-slide slide level1 center">
<h1>Prediction</h1>

</section>
<section id="fitted-values" class="slide level2">
<h2>Fitted values</h2>
<p>Let’s use the simpler <code>anscombe</code> data example</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-23_7dc65ec5099115358103b08087cc913e">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>fit <span class="ot">&lt;-</span> anscombe <span class="sc">%$%</span> <span class="fu">lm</span>(y1 <span class="sc">~</span> x1)</span>
<span id="cb36-2"><a href="#cb36-2"></a></span>
<span id="cb36-3"><a href="#cb36-3"></a>y_hat <span class="ot">&lt;-</span> </span>
<span id="cb36-4"><a href="#cb36-4"></a>  fit <span class="sc">%&gt;%</span></span>
<span id="cb36-5"><a href="#cb36-5"></a>  <span class="fu">fitted.values</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The residual is then calculated as</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-24_73d087303b0cfc961217f58d70ee3a1f">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>y_hat <span class="sc">-</span> anscombe<span class="sc">$</span>y1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          1           2           3           4           5           6 
-0.03900000  0.05081818  1.92127273 -1.30909091  0.17109091  0.04136364 
          7           8           9          10          11 
-1.23936364  0.74045455 -1.83881818  1.68072727 -0.17945455 </code></pre>
</div>
</div>
</section>
<section id="predict-new-values" class="slide level2">
<h2>Predict new values</h2>
<p>If we introduce new values for the predictor <code>x1</code>, we can generate predicted values from the model</p>
<div class="cell" data-hash="Lecture_B_cache/revealjs/unnamed-chunk-25_fa6a4923af3c88837622f7d70baf98de">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>new.x1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)</span>
<span id="cb39-2"><a href="#cb39-2"></a>fit <span class="sc">%&gt;%</span> <span class="fu">predict</span>(<span class="at">newdata =</span> new.x1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        1         2         3         4         5         6         7         8 
 3.500182  4.000273  4.500364  5.000455  5.500545  6.000636  6.500727  7.000818 
        9        10        11        12        13        14        15        16 
 7.500909  8.001000  8.501091  9.001182  9.501273 10.001364 10.501455 11.001545 
       17        18        19        20 
11.501636 12.001727 12.501818 13.001909 </code></pre>
</div>
</div>
</section>
<section id="predictions-are-draws-from-the-regression-line" class="slide level2">
<h2>Predictions are draws from the regression line</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>pred <span class="ot">&lt;-</span> fit <span class="sc">%&gt;%</span> <span class="fu">predict</span>(<span class="at">newdata =</span> new.x1)</span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">lm</span>(pred <span class="sc">~</span> new.x1<span class="sc">$</span>x1)<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)   new.x1$x1 
  3.0000909   0.5000909 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>fit<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)          x1 
  3.0000909   0.5000909 </code></pre>
</div>
</div>
</section>
<section id="prediction-intervals" class="slide level2">
<h2>Prediction intervals</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>fit <span class="sc">%&gt;%</span> <span class="fu">predict</span>(<span class="at">interval =</span> <span class="st">"prediction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         fit      lwr       upr
1   8.001000 5.067072 10.934928
2   7.000818 4.066890  9.934747
3   9.501273 6.390801 12.611745
4   7.500909 4.579129 10.422689
5   8.501091 5.531014 11.471168
6  10.001364 6.789620 13.213107
7   6.000636 2.971271  9.030002
8   5.000455 1.788711  8.212198
9   9.001182 5.971816 12.030547
10  6.500727 3.530650  9.470804
11  5.500545 2.390073  8.611017</code></pre>
</div>
</div>
<p>A prediction interval reflects the uncertainty around a single value. The confidence interval reflects the uncertainty around the mean prediction values.</p>
</section></section>
<section>
<section id="assessing-predictive-accuracy" class="title-slide slide level1 center">
<h1>Assessing predictive accuracy</h1>

</section>
<section id="model-performance" class="slide level2">
<h2>Model performance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>fit <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">predict</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3"></a>  caret<span class="sc">::</span><span class="fu">postResample</span>(anscombe<span class="sc">$</span>y1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     RMSE  Rsquared       MAE 
1.1185498 0.6665425 0.8374050 </code></pre>
</div>
</div>
<p>These performance measures only give us estimates about the training error. <br><br> Always use at least crossvalidation to evaluate predictive performance.</p>
</section>
<section id="k-fold-cross-validation" class="slide level2">
<h2>K-fold cross-validation</h2>
<ul>
<li><p>Divide sample in <span class="math inline">\(k\)</span> mutually exclusive training sets</p></li>
<li><p>Do for all <span class="math inline">\(j\in\{1,\dots,k\}\)</span> training sets</p>
<ol type="1">
<li>fit model to training set <span class="math inline">\(j\)</span></li>
<li>obtain predictions for test set <span class="math inline">\(j\)</span> (remaining cases)</li>
<li>compute residual variance (MSE) for test set <span class="math inline">\(j\)</span></li>
</ol></li>
<li><p>Compare MSE in cross-validation with MSE in sample</p></li>
<li><p>Small difference suggests good predictive accuracy</p></li>
</ul>
</section>
<section id="the-original-model" class="slide level2">
<h2>The original model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>fit <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y1 ~ x1)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.92127 -0.45577 -0.04136  0.70941  1.83882 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)   3.0001     1.1247   2.667  0.02573 * 
x1            0.5001     0.1179   4.241  0.00217 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.237 on 9 degrees of freedom
Multiple R-squared:  0.6665,    Adjusted R-squared:  0.6295 
F-statistic: 17.99 on 1 and 9 DF,  p-value: 0.00217</code></pre>
</div>
</div>
</section>
<section id="k-fold-cross-validation-anscombe-data" class="slide level2">
<h2>K-fold cross-validation <code>anscombe</code> data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(anscombe, fit, <span class="at">plotit=</span>F, <span class="at">printit=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
fold 1 
Observations in test set: 3 
                     5        7        11
x1          11.0000000 6.000000 5.0000000
cvpred       8.4432584 5.585955 5.0144944
y1           8.3300000 7.240000 5.6800000
CV residual -0.1132584 1.654045 0.6655056

Sum of squares = 3.19    Mean square = 1.06    n = 3 

fold 2 
Observations in test set: 4 
                    2          6         8        10
x1           8.000000 14.0000000  4.000000  7.000000
cvpred       7.572234  9.6808511  6.166489  7.220798
y1           6.950000  9.9600000  4.260000  4.820000
CV residual -0.622234  0.2791489 -1.906489 -2.400798

Sum of squares = 9.86    Mean square = 2.47    n = 4 

fold 3 
Observations in test set: 4 
                     1         3        4         9
x1          10.0000000 13.000000 9.000000 12.000000
cvpred       7.8397519  9.367405 7.330534  8.858187
y1           8.0400000  7.580000 8.810000 10.840000
CV residual  0.2002481 -1.787405 1.479466  1.981813

Sum of squares = 9.35    Mean square = 2.34    n = 4 

Overall (Sum over all 4 folds) 
      ms 
2.036958 </code></pre>
</div>
</div>
</section>
<section id="k-fold-cross-validation-anscombe-data-1" class="slide level2">
<h2>K-fold cross-validation <code>anscombe</code> data</h2>
<ul>
<li>residual variance sample is <span class="math inline">\(1.24^2 \approx 1.53\)</span></li>
<li>residual variance cross-validation is 2.04</li>
<li>regression lines in the 3 folds are similar</li>
</ul>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(anscombe, fit, <span class="at">plotit=</span><span class="st">"Observed"</span>, <span class="at">printit=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-32-1.png" width="960" class="r-stretch"></section>
<section id="plotting-the-residuals" class="slide level2">
<h2>Plotting the residuals</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(anscombe, fit, <span class="at">plotit=</span><span class="st">"Residual"</span>, <span class="at">printit=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch"></section>
<section id="k-fold-cross-validation-boys-data" class="slide level2">
<h2>K-fold cross-validation <code>boys</code> data</h2>
<ul>
<li>residual variance sample is 1</li>
<li>residual variance cross-validation is 1.46</li>
<li>regression lines in the 3 folds almost identical</li>
</ul>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(<span class="fu">na.omit</span>(boys), boys.fit5, <span class="at">plotit=</span><span class="st">"Observed"</span>, <span class="at">printit=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-35-1.png" width="960" class="r-stretch"></section>
<section id="k-fold-cross-validation-boys-data-1" class="slide level2">
<h2>K-fold cross-validation <code>boys</code> data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(<span class="fu">na.omit</span>(boys), boys.fit5, <span class="at">plotit=</span><span class="st">"Observed"</span>, <span class="at">printit=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-36-1.png" width="960" class="r-stretch"></section>
<section id="plotting-the-residuals-1" class="slide level2">
<h2>Plotting the residuals</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>DAAG<span class="sc">::</span><span class="fu">CVlm</span>(<span class="fu">na.omit</span>(boys), boys.fit5, <span class="at">plotit=</span><span class="st">"Residual"</span>, <span class="at">printit=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-37-1.png" width="960" class="r-stretch"></section>
<section id="how-many-cases-are-used" class="slide level2">
<h2>How many cases are used?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">na.omit</span>(boys) <span class="sc">%$%</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt <span class="sc">*</span> wgt) <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">nobs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 223</code></pre>
</div>
</div>
<p>If we would not have used <code>na.omit()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>boys <span class="sc">%$%</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">lm</span>(age <span class="sc">~</span> reg <span class="sc">+</span> hgt <span class="sc">*</span> wgt) <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">nobs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 724</code></pre>
</div>
</div>
</section></section>
<section>
<section id="confidence-intervals" class="title-slide slide level1 center">
<h1>Confidence intervals?</h1>

</section>
<section id="confidence-interval" class="slide level2">
<h2>95% confidence interval</h2>
<p><em>If an infinite number of samples were drawn and CI’s computed, then the true population mean <span class="math inline">\(\mu\)</span> would be in</em> <strong><em>at least</em></strong> <em>95% of these intervals</em></p>
<p><span class="math display">\[
95\%~CI=\bar{x}\pm{t}_{(1-\alpha/2)}\cdot SEM
\]</span></p>
<p>Example</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>x.bar <span class="ot">&lt;-</span> <span class="fl">7.6</span> <span class="co"># sample mean</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>SEM   <span class="ot">&lt;-</span> <span class="fl">2.1</span> <span class="co"># standard error of the mean</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>n     <span class="ot">&lt;-</span> <span class="dv">11</span> <span class="co"># sample size</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>df    <span class="ot">&lt;-</span> n<span class="dv">-1</span> <span class="co"># degrees of freedom</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>alpha <span class="ot">&lt;-</span> .<span class="dv">15</span> <span class="co"># significance level</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>t.crit <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> alpha <span class="sc">/</span> <span class="dv">2</span>, df) <span class="co"># t(1 - alpha / 2) for df = 10</span></span>
<span id="cb62-7"><a href="#cb62-7"></a><span class="fu">c</span>(x.bar <span class="sc">-</span> t.crit <span class="sc">*</span> SEM, x.bar <span class="sc">+</span> t.crit <span class="sc">*</span> SEM) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  4.325605 10.874395</code></pre>
</div>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<center>
<img src="Neyman1934.png" alt="HTML5 Icon" width="75%">
</center>
<div class="footer">
<p>Neyman, J. (1934). On the Two Different Aspects of the Representative Method: The Method of Stratified Sampling and the Method of Purposive Selection. JRSS, 97[4], 558-625</p>
</div>
</section>
<section id="misconceptions" class="slide level2">
<h2>Misconceptions</h2>
<p>Confidence intervals are frequently misunderstood, even well-established researchers sometimes misinterpret them. .</p>
<ol type="1">
<li>A realised 95% CI does not mean:</li>
</ol>
<ul>
<li><p>that there is a 95% probability the population parameter lies within the interval</p></li>
<li><p>that there is a 95% probability that the interval covers the population parameter</p>
<p>Once an experiment is done and an interval is calculated, the interval either covers, or does not cover the parameter value. Probability is no longer involved.</p>
<p>The 95% probability only has to do with the estimation procedure.</p></li>
</ul>
<ol start="2" type="1">
<li>A 95% confidence interval does not mean that 95% of the sample data lie within the interval.</li>
<li>A confidence interval is not a range of plausible values for the sample mean, though it may be understood as an estimate of plausible values for the population parameter.</li>
<li>A particular confidence interval of 95% calculated from an experiment does not mean that there is a 95% probability of a sample mean from a repeat of the experiment falling within this interval.</li>
</ol>
</section>
<section id="confidence-intervals-1" class="slide level2">
<h2>Confidence intervals</h2>

<img data-src="Lecture_B_files/figure-revealjs/unnamed-chunk-41-1.png" width="960" class="r-stretch"><p>100 simulated samples from a population with <span class="math inline">\(\mu = 0\)</span> and <span class="math inline">\(\sigma^2=1\)</span>. Out of 100 samples, only 5 samples have confidence intervals that do not cover the population mean.</p>
</section>
<section id="for-fun" class="slide level2">
<h2>For fun</h2>
<center>
<img data-src="img/going_out_for_a_byte.png" style="width:40.0%"> <br><a href="https://www.reddit.com/r/ProgrammerHumor/comments/8za9b6/hello_i_am_your_server_for_today/">source</a>
</center>
<p><img src="logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Gerko Vink</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Lecture_B_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Lecture_B_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Lecture_B_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Lecture_B_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 7.5e-2,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>